#!/usr/bin/lua

local firewall = require "lime.firewall"
local network = require "lime.network"
local wireless = require "lime.wireless"
local system = require "lime.system"


function main()
	local modules = { wireless, network, firewall, system }

	for _,module in pairs(modules) do
		xpcall(module.clean, function(errmsg) print(errmsg) ; print(debug.traceback()) end)
	end

	for _,module in pairs(modules) do
		xpcall(module.configure, function(errmsg) print(errmsg) ; print(debug.traceback()) end)
	end
end

main()
